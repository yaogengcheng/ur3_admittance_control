#! /usr/bin/env python
import sys
import rospy
import tf
import copy
from std_msgs.msg import String
from geometry_msgs.msg import Pose, Point, Quaternion                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           


from geometry_msgs.msg import WrenchStamped

class WrenchSend():
    def __init__(self):

        rospy.init_node('send_target_wrench', anonymous=True)
        self.tf_listener = tf.TransformListener()
        self.pub = rospy.Publisher('/my_cartesian_force_controller/target_wrench',WrenchStamped, queue_size=3)
    
    # def initPose(self):
    #     self.pose = Pose()
    #     self.pose.position.x = pos[0]
    #     self.pose.position.y = pos[1]
    #     self.pose.position.z = pos[2]
    #     self.pose.orientation.x = rot[0]
    #     self.pose.orientation.y = rot[1]
    #     self.pose.orientation.z = rot[2]
    #     self.pose.orientation.w = rot[3]

    def talker(self):

        self.rate = rospy.Rate(100)
        
        self.target_wrench = WrenchStamped()
        self.target_wrench.header.frame_id = ''
        self.target_wrench.wrench.force.x = 0
        self.target_wrench.wrench.force.y = 0
        self.target_wrench.wrench.force.z = 2

        self.target_wrench.wrench.torque.x =0
        self.target_wrench.wrench.torque.y =0
        self.target_wrench.wrench.torque.z =0
        
        while not rospy.is_shutdown():
            self.pub.publish(self.target_wrench)
            # print(self.Pose_goal)
            self.rate.sleep()
          
if __name__ == '__main__':
    try:
        node = WrenchSend()
        node.talker()
        # node.get_end_effector_pose()
    except rospy.ROSInterruptException:
        pass